<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Audio Archive</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Margate Audio Archive</h1>
  <div id="audio-container"></div>
<script src="https://unpkg.com/wavesurfer.js"></script>
<script>
  const audioFiles = [
    'CPB_ME1_4416.mp3','TomasJef_ME2_4416.mp3', 'KMBN_ME2_4416.mp3'
    // Add more filenames here if needed
  ];

  const baseUrl = 'https://f003.backblazeb2.com/file/archivalrecs/';
  const container = document.getElementById('audio-container');

  audioFiles.forEach((file, index) => {
    // Create unique IDs for each waveform and button
    const waveformId = `waveform-${index}`;
    const buttonId = `button-${index}`;

    // Create a wrapper for each audio player
    const playerWrapper = document.createElement('div');
    playerWrapper.innerHTML = `
      <div id="${waveformId}" style="width: 100%; height: 100px;"></div>
      <button id="${buttonId}">Play/Pause</button>
    `;
    container.appendChild(playerWrapper);

    // Initialize WaveSurfer for this file
    const wavesurfer = WaveSurfer.create({
      container: `#${waveformId}`,
      waveColor: '#ccc',
      progressColor: '#000',
      height: 80,
      responsive: true,
      url: baseUrl + file
    });

    // Hook up play/pause button
    document.getElementById(buttonId).addEventListener('click', () => {
      wavesurfer.playPause();
    });
  });
</script>
<p><a href="admin.html">Admin Upload</a></p>
  <style>
  #audio-container {
    display: flex;
    flex-direction: column;
    gap: 30px;
    padding: 20px;
  }

  button {
    margin-top: 10px;
    padding: 6px 12px;
    border: none;
    background: #000;
    color: #fff;
    cursor: pointer;
  }

  button:hover {
    background: #444;
  }
</style>
</body>
</html>
